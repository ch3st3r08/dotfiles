- name: Installing Terminal Multiplexer packages
  community.general.pacman:
    name:
      - tmux
  become: true
  tags: tmux

- name: Create a directory if it does not exist
  ansible.builtin.file:
    path: "{{config_dir}}/tmux"
    state: directory
    mode: '0755'
  tags: tmux

- name: "Copying config file"
  ansible.builtin.command:
    cmd: stow -d {{stow_dir}} -t {{home}} --no-folding --dotfiles -S tmux
  changed_when: true
  tags: tmux

- name: "Install tmux plugins"
  ansible.builtin.command:
    cmd: "{{config_dir}}/tmux/plugins/tpm/bin/install_plugins"
  changed_when: true
  tags: tmux
